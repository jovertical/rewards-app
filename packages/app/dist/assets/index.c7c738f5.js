import{o as c,c as _,a as o,u as A,b as R,r as g,d as j,e as m,f as v,g as h,w as y,h as u,i as x,j as f,t as C,k,l as O,s as V,m as D,n as T,p as N,q as I,v as S}from"./vendor.0edce4bd.js";const z=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}};z();var B=(l,n)=>{for(const[s,t]of n)l[s]=t;return l};const q={},F={class:"bg-gray-darkest","aria-labelledby":"footer-heading"},H=o("h2",{id:"footer-heading",class:"sr-only"},"Footer",-1),M=o("div",{class:"max-w-7xl mx-auto pt-16 pb-24 px-4 sm:px-6 lg:pt-20 lg:pb-28 lg:px-8"},[o("ul",{role:"list",class:"flex justify-center"},[o("li",null,[o("a",{href:"#",class:"text-lg text-white hover:text-gray-lightest"}," Terms & Conditions ")]),o("li",{class:"mx-2.5"},[o("span",{class:"text-white"},"|")]),o("li",null,[o("a",{href:"#",class:"text-lg text-white hover:text-gray-lightest"}," Privacy Policy ")])])],-1),W=[H,M];function K(l,n){return c(),_("footer",F,W)}var U=B(q,[["render",K]]),b="/assets/logo.636384b7.png";function $(){let l=A(),n=R("auth_token",""),s=g(!1),t=g(!1),e=g(null);async function r(){if(s.value)return;s.value=!0;let i=await fetch("https://resman-rewards-api.herokuapp.com/api/me",{headers:{"X-Access-Token":n.value}});if(i.status!==200){s.value=!1,l.push({name:"auth.login"});return}let w=await i.json();s.value=!1,t.value=!0,e.value=w.data}async function a(i){n.value=i,await r(),l.push({name:"home"})}async function d(){n.value=null,t.value=!1,e.value=null,l.push({name:"auth.login"})}return j(()=>{r()}),{authenticated:t,token:n,user:e,authenticate:a,logout:d}}const X={class:"bg-white"},G={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"flex items-center justify-between h-24"},Q={class:"flex-shrink-0 flex items-center"},Y=o("span",{class:"sr-only"},"Rewards App",-1),Z=["src"],ee={class:"flex sm:-my-px sm:ml-6 sm:space-x-8"},te=k(" Login "),oe=k(" Sign up "),se={key:3,href:"javascript:void(0);",class:"flex-shrink-0 group block"},re={class:"flex items-center"},ne=o("div",null,[o("span",{class:"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-lightest"},[o("svg",{class:"h-full w-full text-gray-lighter",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})])])],-1),ae={class:"ml-3"},le={class:"text-sm font-bold text-gray-darker group-hover:text-gray-darkest"},L=m({setup(l,{expose:n}){let{authenticated:s,user:t,logout:e}=$();return n({logoUrl:b}),(r,a)=>{var i;const d=v("router-link");return c(),_("nav",X,[o("div",G,[o("div",J,[o("div",Q,[h(d,{to:{name:"home"}},{default:y(()=>[Y,o("img",{class:"h-8 w-auto sm:h-10",src:u(b),alt:""},null,8,Z)]),_:1})]),o("div",ee,[u(s)?f("",!0):(c(),x(d,{key:0,to:{name:"auth.login"},class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none"},{default:y(()=>[te]),_:1},8,["to"])),u(s)?f("",!0):(c(),x(d,{key:1,to:{name:"auth.register"},class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none"},{default:y(()=>[oe]),_:1},8,["to"])),u(s)?(c(),_("button",{key:2,class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none",onClick:a[0]||(a[0]=w=>u(e)())}," Logout ")):f("",!0),u(s)?(c(),_("a",se,[o("div",re,[ne,o("div",ae,[o("p",le,C((i=u(t))==null?void 0:i.name),1)])])])):f("",!0)])])])])}}}),ie={class:"min-h-screen bg-white"},ce={class:"bg-gray-lightest"},E=m({setup(l){return $(),(n,s)=>{const t=v("router-view");return c(),_("div",ie,[h(L),o("div",ce,[h(t)]),h(U)])}}}),ue={class:"min-h-screen bg-white"},de=m({setup(l){return(n,s)=>{const t=v("router-view");return c(),_("div",ue,[h(L),o("div",null,[h(t)])])}}}),_e=m({setup(l,{expose:n}){let s=O(),t=V(E),e={app:E,auth:de};return D(()=>{var r;return(r=s==null?void 0:s.meta)==null?void 0:r.layout},r=>{let a=e[r]||e.app;a&&(t.value=a)}),n({layout:t}),(r,a)=>(c(),x(T(u(t))))}}),he="modulepreload",P={},pe="/",p=function(n,s){return!s||s.length===0?n():Promise.all(s.map(t=>{if(t=`${pe}${t}`,t in P)return;P[t]=!0;const e=t.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const a=document.createElement("link");if(a.rel=e?"stylesheet":he,e||(a.as="script",a.crossOrigin=""),a.href=t,document.head.appendChild(a),e)return new Promise((d,i)=>{a.addEventListener("load",d),a.addEventListener("error",i)})})).then(()=>n())};let me=[{path:"/",name:"home",component:()=>p(()=>import("./Home.9130ee16.js"),["assets/Home.9130ee16.js","assets/PrizeHeader.4b752d4e.js","assets/vendor.0edce4bd.js"]),meta:{layout:"app"}},{path:"/prizes/:id",name:"prize-details",component:()=>p(()=>import("./PrizeDetails.de6efbfb.js"),["assets/PrizeDetails.de6efbfb.js","assets/vendor.0edce4bd.js","assets/PrizeHeader.4b752d4e.js"]),meta:{layout:"app"}},{path:"/login",name:"auth.login",component:()=>p(()=>import("./Login.ba69ac2e.js"),["assets/Login.ba69ac2e.js","assets/vendor.0edce4bd.js"]),meta:{layout:"auth"}},{path:"/register",name:"auth.register",component:()=>p(()=>import("./Register.635d1259.js"),["assets/Register.635d1259.js","assets/vendor.0edce4bd.js"]),meta:{layout:"auth"}},{path:"/:catchAll(.*)",name:"404",component:()=>p(()=>import("./404.1c90c789.js"),["assets/404.1c90c789.js","assets/vendor.0edce4bd.js"]),meta:{layout:"app"}}],fe=N({history:I(),routes:me});S(_e).use(fe).mount("#app");export{B as _,$ as u};
