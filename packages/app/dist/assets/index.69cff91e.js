import{o as i,c as _,a as s,u as A,b as R,r as g,d as j,e as f,f as y,g as h,w as x,h as c,i as w,j as v,t as C,k,l as O,s as V,m as D,n as T,p as N,q as I,v as S}from"./vendor.6a80e32c.js";const z=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}};z();var B=(l,a)=>{for(const[r,t]of a)l[r]=t;return l};const q={},F={class:"bg-gray-darkest","aria-labelledby":"footer-heading"},H=s("h2",{id:"footer-heading",class:"sr-only"},"Footer",-1),M=s("div",{class:"max-w-7xl mx-auto pt-16 pb-24 px-4 sm:px-6 lg:pt-20 lg:pb-28 lg:px-8"},[s("ul",{role:"list",class:"flex justify-center"},[s("li",null,[s("a",{href:"#",class:"text-lg text-white hover:text-gray-lightest"}," Terms & Conditions ")]),s("li",{class:"mx-2.5"},[s("span",{class:"text-white"},"|")]),s("li",null,[s("a",{href:"#",class:"text-lg text-white hover:text-gray-lightest"}," Privacy Policy ")])])],-1),W=[H,M];function K(l,a){return i(),_("footer",F,W)}var U=B(q,[["render",K]]),b="/assets/logo.636384b7.png";function X(l=!0){let a=A(),r=R("auth_token",""),t=g(!1),e=g(!1),o=g(null);async function n(){if(t.value)return;t.value=!0;let p=await fetch("https://resman-rewards-api.herokuapp.com/api/me",{headers:{"X-Access-Token":r.value}});if(p.status!==200){t.value=!1,a.push({name:"auth.login"});return}let P=await p.json();t.value=!1,e.value=!0,o.value=P.data}async function u(p){r.value=p,await n(),a.push({name:"home"})}async function d(){r.value=null,e.value=!1,o.value=null,a.push({name:"auth.login"})}return j(()=>{l&&n()}),{authenticated:e,token:r,user:o,authenticate:u,logout:d}}const G={class:"bg-white"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"flex items-center justify-between h-24"},Y={class:"flex-shrink-0 flex items-center"},Z=s("span",{class:"sr-only"},"Rewards App",-1),ee=["src"],te={class:"flex sm:-my-px sm:ml-6 space-x-4 sm:space-x-8"},oe=k(" Login "),se=k(" Sign up "),re={key:3,href:"javascript:void(0);",class:"flex-shrink-0 group block"},ne={class:"flex items-center"},ae=s("div",null,[s("span",{class:"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-lightest"},[s("svg",{class:"h-full w-full text-gray-lighter",fill:"currentColor",viewBox:"0 0 24 24"},[s("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})])])],-1),le={class:"ml-3"},ie={class:"text-sm font-bold text-gray-darker group-hover:text-gray-darkest"},L=f({setup(l,{expose:a}){let{authenticated:r,user:t,logout:e}=X();return a({logoUrl:b}),(o,n)=>{var d;const u=y("router-link");return i(),_("nav",G,[s("div",J,[s("div",Q,[s("div",Y,[h(u,{to:{name:"home"}},{default:x(()=>[Z,s("img",{class:"h-8 w-auto sm:h-10",src:c(b),alt:""},null,8,ee)]),_:1})]),s("div",te,[c(r)?v("",!0):(i(),w(u,{key:0,to:{name:"auth.login"},class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none"},{default:x(()=>[oe]),_:1},8,["to"])),c(r)?v("",!0):(i(),w(u,{key:1,to:{name:"auth.register"},class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none"},{default:x(()=>[se]),_:1},8,["to"])),c(r)?(i(),_("button",{key:2,class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none",onClick:n[0]||(n[0]=p=>c(e)())}," Logout ")):v("",!0),c(r)?(i(),_("a",re,[s("div",ne,[ae,s("div",le,[s("p",ie,C((d=c(t))==null?void 0:d.name),1)])])])):v("",!0)])])])])}}}),ce={class:"min-h-screen bg-white"},$=f({setup(l){return(a,r)=>{const t=y("router-view");return i(),_("div",ce,[h(L),s("div",null,[h(t)]),h(U)])}}}),ue={class:"min-h-screen bg-white"},de=f({setup(l){return(a,r)=>{const t=y("router-view");return i(),_("div",ue,[h(L),s("div",null,[h(t)])])}}}),_e=f({setup(l,{expose:a}){let r=O(),t=V($),e={app:$,auth:de};return D(()=>{var o;return(o=r==null?void 0:r.meta)==null?void 0:o.layout},o=>{let n=e[o]||e.app;n&&(t.value=n)}),a({layout:t}),(o,n)=>(i(),w(T(c(t))))}}),he="modulepreload",E={},pe="/",m=function(a,r){return!r||r.length===0?a():Promise.all(r.map(t=>{if(t=`${pe}${t}`,t in E)return;E[t]=!0;const e=t.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${o}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":he,e||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),e)return new Promise((u,d)=>{n.addEventListener("load",u),n.addEventListener("error",d)})})).then(()=>a())};let me=[{path:"/",name:"home",component:()=>m(()=>import("./Home.a4aa6c31.js"),["assets/Home.a4aa6c31.js","assets/PrizeHeader.9f017f76.js","assets/vendor.6a80e32c.js"]),meta:{layout:"app"}},{path:"/prizes/:id",name:"prize-details",component:()=>m(()=>import("./PrizeDetails.701f3695.js"),["assets/PrizeDetails.701f3695.js","assets/vendor.6a80e32c.js","assets/PrizeHeader.9f017f76.js","assets/useError.c494153b.js"]),meta:{layout:"app"}},{path:"/login",name:"auth.login",component:()=>m(()=>import("./Login.7195f912.js"),["assets/Login.7195f912.js","assets/vendor.6a80e32c.js","assets/useForm.46f89abd.js","assets/useError.c494153b.js"]),meta:{layout:"auth"}},{path:"/register",name:"auth.register",component:()=>m(()=>import("./Register.839b9413.js"),["assets/Register.839b9413.js","assets/vendor.6a80e32c.js","assets/useForm.46f89abd.js","assets/useError.c494153b.js"]),meta:{layout:"auth"}},{path:"/:catchAll(.*)",name:"404",component:()=>m(()=>import("./404.5c6cde05.js"),["assets/404.5c6cde05.js","assets/vendor.6a80e32c.js"]),meta:{layout:"app"}}],fe=N({history:I(),routes:me});S(_e).use(fe).mount("#app");export{B as _,X as u};
