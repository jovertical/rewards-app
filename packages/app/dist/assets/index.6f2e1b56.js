import{o as i,c as d,a as o,u as A,b as R,r as v,d as j,e as m,f as y,g as h,w as x,h as c,i as w,j as g,t as C,k,l as O,s as V,m as D,n as T,p as N,q as I,v as S}from"./vendor.1ea87c8f.js";const z=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}};z();var B=(l,a)=>{for(const[r,t]of a)l[r]=t;return l};const q={},F={class:"bg-gray-darkest","aria-labelledby":"footer-heading"},H=o("h2",{id:"footer-heading",class:"sr-only"},"Footer",-1),M=o("div",{class:"max-w-7xl mx-auto pt-16 pb-24 px-4 sm:px-6 lg:pt-20 lg:pb-28 lg:px-8"},[o("ul",{role:"list",class:"flex justify-center"},[o("li",null,[o("a",{href:"#",class:"text-lg text-white hover:text-gray-lightest"}," Terms & Conditions ")]),o("li",{class:"mx-2.5"},[o("span",{class:"text-white"},"|")]),o("li",null,[o("a",{href:"#",class:"text-lg text-white hover:text-gray-lightest"}," Privacy Policy ")])])],-1),W=[H,M];function K(l,a){return i(),d("footer",F,W)}var U=B(q,[["render",K]]),b="/assets/logo.636384b7.png";function X(l=!0){let a=A(),r=R("auth_token",""),t=v(!1),e=v(!1),s=v(null);async function n(){if(t.value)return;t.value=!0;let p=await fetch("https://resman-rewards-api.herokuapp.com/api/me",{headers:{"X-Access-Token":r.value}});if(p.status!==200){t.value=!1,a.push({name:"auth.login"});return}let P=await p.json();t.value=!1,e.value=!0,s.value=P.data}async function u(p){r.value=p,await n(),a.push({name:"home"})}async function _(){r.value=null,e.value=!1,s.value=null,a.push({name:"auth.login"})}return j(()=>{l&&n()}),{authenticated:e,token:r,user:s,authenticate:u,logout:_}}const G={class:"bg-white"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"flex items-center justify-between h-24"},Y={class:"flex-shrink-0 flex items-center"},Z=o("span",{class:"sr-only"},"Rewards App",-1),ee=["src"],te={class:"flex sm:-my-px sm:ml-6 space-x-4 sm:space-x-8"},se=k(" Login "),oe=k(" Sign up "),re={key:3,href:"javascript:void(0);",class:"flex-shrink-0 group block"},ne={class:"flex items-center"},ae=o("div",null,[o("span",{class:"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-lightest"},[o("svg",{class:"h-full w-full text-gray-lighter",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})])])],-1),le={class:"ml-3"},ie={class:"text-sm font-bold text-gray-darker group-hover:text-gray-darkest"},$=m({setup(l,{expose:a}){let{authenticated:r,user:t,logout:e}=X();return a({logoUrl:b}),(s,n)=>{var _;const u=y("router-link");return i(),d("nav",G,[o("div",J,[o("div",Q,[o("div",Y,[h(u,{to:{name:"home"}},{default:x(()=>[Z,o("img",{class:"h-8 w-auto sm:h-10",src:c(b),alt:""},null,8,ee)]),_:1})]),o("div",te,[c(r)?g("",!0):(i(),w(u,{key:0,to:{name:"auth.login"},class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none"},{default:x(()=>[se]),_:1},8,["to"])),c(r)?g("",!0):(i(),w(u,{key:1,to:{name:"auth.register"},class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none"},{default:x(()=>[oe]),_:1},8,["to"])),c(r)?(i(),d("button",{key:2,class:"text-yellow hover:text-yellow-dark focus:underline focus:outline-none",onClick:n[0]||(n[0]=p=>c(e)())}," Logout ")):g("",!0),c(r)?(i(),d("a",re,[o("div",ne,[ae,o("div",le,[o("p",ie,C((_=c(t))==null?void 0:_.name),1)])])])):g("",!0)])])])])}}}),ce={class:"min-h-screen bg-white"},ue={class:"bg-gray-lightest"},L=m({setup(l){return(a,r)=>{const t=y("router-view");return i(),d("div",ce,[h($),o("div",ue,[h(t)]),h(U)])}}}),_e={class:"min-h-screen bg-white"},de=m({setup(l){return(a,r)=>{const t=y("router-view");return i(),d("div",_e,[h($),o("div",null,[h(t)])])}}}),he=m({setup(l,{expose:a}){let r=O(),t=V(L),e={app:L,auth:de};return D(()=>{var s;return(s=r==null?void 0:r.meta)==null?void 0:s.layout},s=>{let n=e[s]||e.app;n&&(t.value=n)}),a({layout:t}),(s,n)=>(i(),w(T(c(t))))}}),pe="modulepreload",E={},fe="/",f=function(a,r){return!r||r.length===0?a():Promise.all(r.map(t=>{if(t=`${fe}${t}`,t in E)return;E[t]=!0;const e=t.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${s}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":pe,e||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),e)return new Promise((u,_)=>{n.addEventListener("load",u),n.addEventListener("error",_)})})).then(()=>a())};let me=[{path:"/",name:"home",component:()=>f(()=>import("./Home.c62177fe.js"),["assets/Home.c62177fe.js","assets/PrizeHeader.d4ff2112.js","assets/vendor.1ea87c8f.js"]),meta:{layout:"app"}},{path:"/prizes/:id",name:"prize-details",component:()=>f(()=>import("./PrizeDetails.8a477505.js"),["assets/PrizeDetails.8a477505.js","assets/vendor.1ea87c8f.js","assets/useError.03f5dd08.js","assets/PrizeHeader.d4ff2112.js"]),meta:{layout:"app"}},{path:"/login",name:"auth.login",component:()=>f(()=>import("./Login.604fc75e.js"),["assets/Login.604fc75e.js","assets/vendor.1ea87c8f.js","assets/useForm.4d035359.js","assets/useError.03f5dd08.js"]),meta:{layout:"auth"}},{path:"/register",name:"auth.register",component:()=>f(()=>import("./Register.ab191e86.js"),["assets/Register.ab191e86.js","assets/vendor.1ea87c8f.js","assets/useForm.4d035359.js","assets/useError.03f5dd08.js"]),meta:{layout:"auth"}},{path:"/:catchAll(.*)",name:"404",component:()=>f(()=>import("./404.f86a6384.js"),["assets/404.f86a6384.js","assets/vendor.1ea87c8f.js"]),meta:{layout:"app"}}],ge=N({history:I(),routes:me});S(he).use(ge).mount("#app");export{B as _,X as u};
