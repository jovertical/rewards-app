import{e as _,f as x,o as i,c as w,a as o,g as a,w as r,h as e,i as h,j as y,y as v,k as u,t as g}from"./vendor.eb75dad7.js";import{u as b,a as V,_ as k,F as n,b as j}from"./useForm.c3452349.js";import{u as C}from"./index.d4d7f8ca.js";const N={class:"bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8"},S={class:"sm:mx-auto sm:w-full sm:max-w-md"},T=o("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-darkest"}," Create your account ",-1),B={class:"mt-2 text-center text-sm text-gray-dark"},F=u(" Already have an account? "+g(" ")+" "),U=u(" login "),$={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},A={class:"bg-white py-8 px-4 shadow-md sm:rounded sm:px-10"},E=["onSubmit"],G=u("Sign Up"),D=_({setup(I){let p=C(!1),s=b({name:"",email:"",password:""}),m=V();async function c(){let d=await fetch("https://resman-rewards-api.herokuapp.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.values)}),t=await d.json();if(d.status!==201){m.set(t.message||t.error);return}p.authenticate(t.data.token)}return(d,t)=>{const f=x("router-link");return i(),w("div",N,[o("div",S,[T,o("p",B,[F,a(f,{to:{name:"auth.login"},class:"font-medium text-yellow hover:text-yellow-light"},{default:r(()=>[U]),_:1},8,["to"])])]),o("div",$,[o("div",A,[e(m).show.value?(i(),h(k,{key:0,variant:"error",message:e(m).message.value,class:"mb-6",onHide:t[0]||(t[0]=l=>e(m).clear())},null,8,["message"])):y("",!0),o("form",{class:"space-y-6",onSubmit:v(c,["prevent"])},[a(e(n).Group,{name:"name",label:"Your Name"},{default:r(()=>[a(e(n).TextInput,{modelValue:e(s).values.name,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).values.name=l),id:"name",name:"name",type:"text"},null,8,["modelValue"])]),_:1}),a(e(n).Group,{name:"email",label:"Your Email Address"},{default:r(()=>[a(e(n).TextInput,{modelValue:e(s).values.email,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).values.email=l),id:"email",name:"email",type:"email",autocomplete:"email"},null,8,["modelValue"])]),_:1}),a(e(n).Group,{name:"password",label:"Password"},{default:r(()=>[a(e(n).TextInput,{modelValue:e(s).values.password,"onUpdate:modelValue":t[3]||(t[3]=l=>e(s).values.password=l),id:"password",name:"password",type:"password",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),o("div",null,[a(j,{type:"submit"},{default:r(()=>[G]),_:1})])],40,E)])])])}}});export{D as default};
